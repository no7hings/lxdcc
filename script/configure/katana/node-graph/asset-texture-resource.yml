option:
    root: ''
    resource: ''
    time_tag: ''
    #
    unique_name: '<.resource>__<.time_tag>'
#
node:
    material_group:
        type: 'NetworkMaterialCreate'
        path: '<option.root>/<option.resource>__<option.time_tag>_MTL_GRP'
    #
    material:
        type: 'NetworkMaterial'
        path: '<..material_group.path>/<option.resource>__<option.time_tag>_MTL'
    #
    node_group:
        type: 'ShadingGroup'
        path: '<..material_group.path>/<option.resource>__<option.time_tag>_NOD_GRP'
        #
        input_ports:
            # geometry
            #   normal
            - 'inputs.texture.geometry.normal_invert_x'
            - 'inputs.texture.geometry.normal_invert_y'
            - 'inputs.texture.geometry.normal_invert_z'
            - 'inputs.texture.geometry.normal_strength'
            #   displacement
            - 'inputs.texture.geometry.displacement_zero'
            - 'inputs.texture.geometry.displacement_strength'
            # texture
            #   basic
            - 'inputs.texture.basic.mode'
            #   uv-map
            #       uv-map basic
            - 'inputs.texture.uv_map.uv_map_coords'
            #       uv-map transform
            - 'inputs.texture.uv_map.uv_map_translate'
            - 'inputs.texture.uv_map.uv_map_rotate'
            - 'inputs.texture.uv_map.uv_map_scale'
            - 'inputs.texture.uv_map.uv_map_pivot'
            - 'inputs.texture.uv_map.uv_map_coverage'
            #       uv-map frame transform
            - 'inputs.texture.uv_map.uv_map_frame_translate'
            - 'inputs.texture.uv_map.uv_map_frame_rotate'
            - 'inputs.texture.uv_map.uv_map_frame_scale'
            - 'inputs.texture.uv_map.uv_map_frame_pivot'
            - 'inputs.texture.uv_map.uv_map_frame_wrap_u'
            - 'inputs.texture.uv_map.uv_map_frame_wrap_v'
            #   triplanar
            #       triplanar basic
            - 'inputs.texture.triplanar.triplanar_coord_space'
            - 'inputs.texture.triplanar.triplanar_pref_name'
            #       triplanar transform
            - 'inputs.texture.triplanar.triplanar_translate'
            - 'inputs.texture.triplanar.triplanar_rotate'
            - 'inputs.texture.triplanar.triplanar_scale'
            - 'inputs.texture.triplanar.triplanar_blend'
            #       triplanar cell
            - 'inputs.texture.triplanar.triplanar_cell_enable'
            - 'inputs.texture.triplanar.triplanar_cell_rotate'
            - 'inputs.texture.triplanar.triplanar_cell_blend'
        #
        output_ports:
            # texture
            #   base
            - 'outputs.texture.base.metalness'
            #   diffuse
            - 'outputs.texture.diffuse.diffuse'
            - 'outputs.texture.diffuse.diffuse_color'
            - 'outputs.texture.diffuse.diffuse_roughness'
            #   specular
            - 'outputs.texture.specular.specular'
            - 'outputs.texture.specular.specular_color'
            - 'outputs.texture.specular.specular_roughness'
            #   transmission
            - 'outputs.texture.transmission.transmission'
            - 'outputs.texture.transmission.transmission_color'
            - 'outputs.texture.transmission.transmission_roughness'
            #   subsurface
            - 'outputs.texture.subsurface.subsurface'
            - 'outputs.texture.subsurface.subsurface_color'
            #   geometry
            - 'outputs.texture.geometry.normal'
            - 'outputs.texture.geometry.bump'
            - 'outputs.texture.geometry.opacity'
            - 'outputs.texture.geometry.displacement'
            #   uv_map
            - 'outputs.texture.extra.uv_map_proxy'
            #   triplanar
            - 'outputs.texture.extra.triplanar_proxy'
            # shader
            #   arnold
            - 'outputs.arnold_shader.arnold_surface'
            - 'outputs.arnold_shader.arnold_displacement'
            #   usd
            - 'outputs.usd_shader.usd_surface'
            - 'outputs.usd_shader.usd_displacement'
        #
        connections:
            - '<.path>.outputs.arnold_shader.arnold_surface'
            - '<..material.path>.arnoldSurface'
            #
            - '<.path>.outputs.arnold_shader.arnold_displacement'
            - '<..material.path>.arnoldDisplacement'
            #
            - '<.path>.outputs.usd_shader.usd_surface'
            - '<..material.path>.usdSurface'
            #
            - '<.path>.outputs.usd_shader.usd_displacement'
            - '<..material.path>.usdDisplacement'
    #
    node_backdrop:
        type: 'Backdrop'
        path: '<..material_group.path>/<option.resource>__<option.time_tag>_MTL_BDP'
        #
        attributes:
            x: 0
            y: 0
            ns_sizeX: 320
            ns_sizeY: 320
            ns_colorr: 0.7412
            ns_colorg: 0.2039
            ns_colorb: 0.8196
            ns_text: 'Test'
            ns_fontScale: 6.0
    # basic
    node_passthrough:
        tag: 'passthrough'
        type: 'ShadingGroup'
        path: '<..node_group.path>/<.tag>__<option.time_tag>_DOT'
        #
        input_ports:
            # texture
            #   uv-map
            #       uv-map basic
            - 'inputs.texture.uv_map.uv_map_coords'
            #       uv-map transform
            - 'inputs.texture.uv_map.uv_map_translate'
            - 'inputs.texture.uv_map.uv_map_rotate'
            - 'inputs.texture.uv_map.uv_map_scale'
            - 'inputs.texture.uv_map.uv_map_pivot'
            - 'inputs.texture.uv_map.uv_map_coverage'
            #       uv-map frame transform
            - 'inputs.texture.uv_map.uv_map_frame_translate'
            - 'inputs.texture.uv_map.uv_map_frame_rotate'
            - 'inputs.texture.uv_map.uv_map_frame_scale'
            - 'inputs.texture.uv_map.uv_map_frame_pivot'
            - 'inputs.texture.uv_map.uv_map_frame_wrap_u'
            - 'inputs.texture.uv_map.uv_map_frame_wrap_v'
            #   triplanar
            #       triplanar basic
            - 'inputs.texture.triplanar.triplanar_coord_space'
            - 'inputs.texture.triplanar.triplanar_pref_name'
            #       triplanar transform
            - 'inputs.texture.triplanar.triplanar_translate'
            - 'inputs.texture.triplanar.triplanar_rotate'
            - 'inputs.texture.triplanar.triplanar_scale'
            - 'inputs.texture.triplanar.triplanar_blend'
            #       triplanar cell
            - 'inputs.texture.triplanar.triplanar_cell_enable'
            - 'inputs.texture.triplanar.triplanar_cell_rotate'
            - 'inputs.texture.triplanar.triplanar_cell_blend'
        #
        output_ports:
            # texture
            #   uv-map
            #       uv-map basic
            - 'outputs.texture.uv_map.uv_map_coords'
            #       uv-map transform
            - 'outputs.texture.uv_map.uv_map_translate'
            - 'outputs.texture.uv_map.uv_map_rotate'
            - 'outputs.texture.uv_map.uv_map_scale'
            - 'outputs.texture.uv_map.uv_map_pivot'
            - 'outputs.texture.uv_map.uv_map_coverage'
            #       uv-map frame transform
            - 'outputs.texture.uv_map.uv_map_frame_translate'
            - 'outputs.texture.uv_map.uv_map_frame_rotate'
            - 'outputs.texture.uv_map.uv_map_frame_scale'
            - 'outputs.texture.uv_map.uv_map_frame_pivot'
            - 'outputs.texture.uv_map.uv_map_frame_wrap_u'
            - 'outputs.texture.uv_map.uv_map_frame_wrap_v'
            #   triplanar
            #       triplanar basic
            - 'outputs.texture.triplanar.triplanar_coord_space'
            - 'outputs.texture.triplanar.triplanar_pref_name'
            #       triplanar transform
            - 'outputs.texture.triplanar.triplanar_translate'
            - 'outputs.texture.triplanar.triplanar_rotate'
            - 'outputs.texture.triplanar.triplanar_scale'
            - 'outputs.texture.triplanar.triplanar_blend'
            #       triplanar cell
            - 'outputs.texture.triplanar.triplanar_cell_enable'
            - 'outputs.texture.triplanar.triplanar_cell_rotate'
            - 'outputs.texture.triplanar.triplanar_cell_blend'
        #
        shader_parameters:
            attribute: '<...key>'
        #
        connections:
            # connections from "self-node"
            #   uv-map
            #       uv-map basic
            - '<.path>.inputs.texture.uv_map.uv_map_coords'
            - '<.path>.outputs.texture.uv_map.uv_map_coords'
            #       uv-map transform
            - '<.path>.inputs.texture.uv_map.uv_map_translate'
            - '<.path>.outputs.texture.uv_map.uv_map_translate'
            - '<.path>.inputs.texture.uv_map.uv_map_rotate'
            - '<.path>.outputs.texture.uv_map.uv_map_rotate'
            - '<.path>.inputs.texture.uv_map.uv_map_scale'
            - '<.path>.outputs.texture.uv_map.uv_map_scale'
            - '<.path>.inputs.texture.uv_map.uv_map_pivot'
            - '<.path>.outputs.texture.uv_map.uv_map_pivot'
            - '<.path>.inputs.texture.uv_map.uv_map_coverage'
            - '<.path>.outputs.texture.uv_map.uv_map_coverage'
            #       uv-map frame transform
            - '<.path>.inputs.texture.uv_map.uv_map_frame_translate'
            - '<.path>.outputs.texture.uv_map.uv_map_frame_translate'
            - '<.path>.inputs.texture.uv_map.uv_map_frame_rotate'
            - '<.path>.outputs.texture.uv_map.uv_map_frame_rotate'
            - '<.path>.inputs.texture.uv_map.uv_map_frame_scale'
            - '<.path>.outputs.texture.uv_map.uv_map_frame_scale'
            - '<.path>.inputs.texture.uv_map.uv_map_frame_pivot'
            - '<.path>.outputs.texture.uv_map.uv_map_frame_pivot'
            - '<.path>.inputs.texture.uv_map.uv_map_frame_wrap_u'
            - '<.path>.outputs.texture.uv_map.uv_map_frame_wrap_u'
            - '<.path>.inputs.texture.uv_map.uv_map_frame_wrap_v'
            - '<.path>.outputs.texture.uv_map.uv_map_frame_wrap_v'
            #   triplanar
            #       triplanar basic
            - '<.path>.inputs.texture.triplanar.triplanar_coord_space'
            - '<.path>.outputs.texture.triplanar.triplanar_coord_space'
            - '<.path>.inputs.texture.triplanar.triplanar_pref_name'
            - '<.path>.outputs.texture.triplanar.triplanar_pref_name'
            #       triplanar transform
            - '<.path>.inputs.texture.triplanar.triplanar_translate'
            - '<.path>.outputs.texture.triplanar.triplanar_translate'
            - '<.path>.inputs.texture.triplanar.triplanar_rotate'
            - '<.path>.outputs.texture.triplanar.triplanar_rotate'
            - '<.path>.inputs.texture.triplanar.triplanar_scale'
            - '<.path>.outputs.texture.triplanar.triplanar_scale'
            - '<.path>.inputs.texture.triplanar.triplanar_blend'
            - '<.path>.outputs.texture.triplanar.triplanar_blend'
            #       triplanar cell
            - '<.path>.inputs.texture.triplanar.triplanar_cell_enable'
            - '<.path>.outputs.texture.triplanar.triplanar_cell_enable'
            - '<.path>.inputs.texture.triplanar.triplanar_cell_rotate'
            - '<.path>.outputs.texture.triplanar.triplanar_cell_rotate'
            - '<.path>.inputs.texture.triplanar.triplanar_cell_blend'
            - '<.path>.outputs.texture.triplanar.triplanar_cell_blend'
            # connections from "node-group"
            #   uv-map
            #       uv-map basic
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_coords'
            - '<.path>.inputs.texture.uv_map.uv_map_coords'
            #       uv-map transform
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_translate'
            - '<.path>.inputs.texture.uv_map.uv_map_translate'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_rotate'
            - '<.path>.inputs.texture.uv_map.uv_map_rotate'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_scale'
            - '<.path>.inputs.texture.uv_map.uv_map_scale'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_pivot'
            - '<.path>.inputs.texture.uv_map.uv_map_pivot'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_coverage'
            - '<.path>.inputs.texture.uv_map.uv_map_coverage'
            #       uv-map frame transform
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_frame_translate'
            - '<.path>.inputs.texture.uv_map.uv_map_frame_translate'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_frame_rotate'
            - '<.path>.inputs.texture.uv_map.uv_map_frame_rotate'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_frame_scale'
            - '<.path>.inputs.texture.uv_map.uv_map_frame_scale'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_frame_pivot'
            - '<.path>.inputs.texture.uv_map.uv_map_frame_pivot'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_frame_wrap_u'
            - '<.path>.inputs.texture.uv_map.uv_map_frame_wrap_u'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_frame_wrap_v'
            - '<.path>.inputs.texture.uv_map.uv_map_frame_wrap_v'
            #   triplanar
            #       triplanar basic
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_coord_space'
            - '<.path>.inputs.texture.triplanar.triplanar_coord_space'
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_pref_name'
            - '<.path>.inputs.texture.triplanar.triplanar_pref_name'
            #       triplanar transform
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_translate'
            - '<.path>.inputs.texture.triplanar.triplanar_translate'
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_rotate'
            - '<.path>.inputs.texture.triplanar.triplanar_rotate'
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_scale'
            - '<.path>.inputs.texture.triplanar.triplanar_scale'
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_blend'
            - '<.path>.inputs.texture.triplanar.triplanar_blend'
            #       triplanar cell
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_cell_enable'
            - '<.path>.inputs.texture.triplanar.triplanar_cell_enable'
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_cell_rotate'
            - '<.path>.inputs.texture.triplanar.triplanar_cell_rotate'
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_cell_blend'
            - '<.path>.inputs.texture.triplanar.triplanar_cell_blend'
    # arnold shader
    arnold_surface_shader:
        tag: 'surface'
        type: 'ArnoldShadingNode'
        shader_type: 'standard_surface'
        path: '<..material_group.path>/<option.resource>__<.tag>__<option.time_tag>_AND_SDR'
        #
        connections:
            - '<.path>.out'
            - '<..material.path>.arnoldSurface'
    # texture
    #   basic
    arnold_texture_basic_mode:
        tag: 'texture_basic'
        type: 'ArnoldShadingNode'
        shader_type: 'user_data_int'
        path: '<..node_group.path>/<.tag>__<option.time_tag>_AND_NOD'
        #
        shader_parameters:
            attribute: '<...key>'
        #
        shader_hints:
            default: '{"page": "basic", "label": "mode", "dstPage": "<option.unique_name>.basic", "dstName": "<option.unique_name>__basic_mode", "options__order": ["use uv map", "use triplaner"], "widget": "mapper", "options": {"use uv map": 0.0, "use triplaner": 1.0}}'
        #
        connections:
            - '<..node_group.path>.inputs.texture.basic.mode'
            - '<.path>.default'
    # triplanar
    arnold_texture_uv_map_proxy:
        tag: 'texture_uv_map'
        type: 'ArnoldShadingNode'
        shader_type: 'uv_transform'
        name: '<.tag>__<option.time_tag>_AND_NOD'
        path: '<..node_group.path>/<.name>'
        #
        shader_hints:
            # frame transform
            translate_frame: '{"page": "uv-map frame transform", "label": "translate", "dstPage": "<option.unique_name>.uv-map frame transform", "dstName": "<option.unique_name>__uv_map__frame_translate"}'
            rotate_frame: '{"page": "uv-map frame transform", "label": "rotate", "dstPage": "<option.unique_name>.uv-map frame transform", "dstName": "<option.unique_name>__uv_map__frame_rotate"}'
            scale_frame: '{"page": "uv-map frame transform", "label": "scale", "dstPage": "<option.unique_name>.uv-map frame transform", "dstName": "<option.unique_name>__uv_map__frame_scale"}'
            pivot_frame: '{"page": "uv-map frame transform", "label": "pivot", "dstPage": "<option.unique_name>.uv-map frame transform", "dstName": "<option.unique_name>__uv_map__frame_pivot"}'
            wrap_frame_u: '{"page": "uv-map frame transform", "label": "wrap U", "dstPage": "<option.unique_name>.uv-map frame transform", "dstName": "<option.unique_name>__uv_map__frame_wrap_u"}'
            wrap_frame_v: '{"page": "uv-map frame transform", "label": "wrap V", "dstPage": "<option.unique_name>.uv-map frame transform", "dstName": "<option.unique_name>__uv_map__frame_wrap_v"}'
            # transform
            offset: '{"page": "uv-map transform", "label": "translate", "dstPage": "<option.unique_name>.uv-map transform", "dstName": "<option.unique_name>__uv_map__translate"}'
            rotate: '{"page": "uv-map transform", "label": "rotate", "dstPage": "<option.unique_name>.uv-map transform", "dstName": "<option.unique_name>__uv_map__rotate"}'
            repeat: '{"page": "uv-map transform", "label": "scale", "dstPage": "<option.unique_name>.uv-map transform", "dstName": "<option.unique_name>__uv_map__scale"}'
            pivot: '{"page": "uv-map transform", "label": "pivot", "dstPage": "<option.unique_name>.uv-map transform", "dstName": "<option.unique_name>__uv_map__pivot"}'
            coverage: '{"page": "uv-map transform", "label": "coverage", "dstPage": "<option.unique_name>.uv-map transform", "dstName": "<option.unique_name>__uv_map__coverage"}'
        #
        connections:
            - '<.path>.out'
            - '<..node_group.path>.outputs.texture.extra.uv_map_proxy'
            # frame transform
            #   basic
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_frame_translate'
            - '<.path>.translate_frame'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_frame_rotate'
            - '<.path>.rotate_frame'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_frame_scale'
            - '<.path>.scale_frame'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_frame_pivot'
            - '<.path>.pivot_frame'
            #   extra
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_frame_wrap_u'
            - '<.path>.wrap_frame_u'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_frame_wrap_v'
            - '<.path>.wrap_frame_v'
            # transform
            #   basic
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_translate'
            - '<.path>.offset'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_rotate'
            - '<.path>.rotate'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_scale'
            - '<.path>.repeat'
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_pivot'
            - '<.path>.pivot'
            #   extra
            - '<..node_group.path>.inputs.texture.uv_map.uv_map_coverage'
            - '<.path>.coverage'
    # triplanar
    arnold_texture_triplanar_proxy:
        tag: 'texture_triplanar'
        type: 'ArnoldShadingNode'
        shader_type: 'triplanar'
        name: '<.tag>__<option.time_tag>_AND_NOD'
        path: '<..node_group.path>/<.name>'
        #
        shader_parameters:
            coord_space: '2'
        #
        shader_hints:
            # basic
            coord_space: '{"page": "triplanar basic", "label": "coord space", "dstPage": "<option.unique_name>.triplanar basic", "dstName": "<option.unique_name>__triplanar_basic__coord_space"}'
            pref_name: '{"page": "triplanar basic", "label": "pref name", "dstPage": "<option.unique_name>.triplanar basic", "dstName": "<option.unique_name>__triplanar_basic__pref_name"}'
            # transform
            offset: '{"page": "triplanar transform", "label": "translate", "dstPage": "<option.unique_name>.triplanar transform", "dstName": "<option.unique_name>__triplanar_transform__translate"}'
            rotate: '{"page": "triplanar transform", "label": "rotate", "dstPage": "<option.unique_name>.triplanar transform", "dstName": "<option.unique_name>__triplanar_transform__rotate"}'
            scale: '{"page": "triplanar transform", "label": "scale", "dstPage": "<option.unique_name>.triplanar transform", "dstName": "<option.unique_name>__triplanar_transform__scale"}'
            blend: '{"page": "triplanar transform", "label": "blend", "dstPage": "<option.unique_name>.triplanar transform", "dstName": "<option.unique_name>__triplanar_transform__blend"}'
            # cell
            cell: '{"page": "triplanar cell", "label": "enable", "dstPage": "<option.unique_name>.triplanar cell", "dstName": "<option.unique_name>__triplanar_cell__enable"}'
            cell_rotate: '{"page": "triplanar cell", "label": "rotate", "dstPage": "<option.unique_name>.triplanar cell", "dstName": "<option.unique_name>__triplanar_cell__rotate"}'
            cell_blend: '{"page": "triplanar cell", "label": "blend", "dstPage": "<option.unique_name>.triplanar cell", "dstName": "<option.unique_name>__triplanar_cell__blend"}'
        #
        connections:
            - '<.path>.out'
            - '<..node_group.path>.outputs.texture.extra.triplanar_proxy'
            #
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_translate'
            - '<.path>.offset'
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_rotate'
            - '<.path>.rotate'
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_scale'
            - '<.path>.scale'
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_blend'
            - '<.path>.blend'
            #
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_coord_space'
            - '<.path>.coord_space'
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_pref_name'
            - '<.path>.pref_name'
            #
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_cell_enable'
            - '<.path>.cell'
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_cell_rotate'
            - '<.path>.cell_rotate'
            - '<..node_group.path>.inputs.texture.triplanar.triplanar_cell_blend'
            - '<.path>.cell_blend'
    #
    arnold_texture_triplanar_translate:
        tag: 'texture_triplanar_translate'
        type: ArnoldShadingNode
        shader_type: 'user_data_rgb'
        path: '<..node_group.path>/<.tag>__<option.time_tag>_AND_NOD'
        #
        shader_parameters:
            attribute: '<...key>'
        #
        shader_expressions:
            default: 'getNode("<...arnold_texture_triplanar_proxy.name>").parameters.offset.value'
    #
    arnold_texture_triplanar_rotate:
        tag: 'texture_triplanar_rotate'
        type: ArnoldShadingNode
        shader_type: 'user_data_rgb'
        path: '<..node_group.path>/<.tag>__<option.time_tag>_AND_NOD'
        #
        shader_parameters:
            attribute: '<...key>'
        #
        shader_expressions:
            default: 'getNode("<...arnold_texture_triplanar_proxy.name>").parameters.rotate.value'
    #
    arnold_texture_triplanar_scale:
        tag: 'texture_triplanar_scale'
        type: ArnoldShadingNode
        shader_type: 'user_data_rgb'
        path: '<..node_group.path>/<.tag>__<option.time_tag>_AND_NOD'
        #
        shader_parameters:
            attribute: '<...key>'
        #
        shader_expressions:
            default: 'getNode("<...arnold_texture_triplanar_proxy.name>").parameters.scale.value'
    # usd
    usd_shader:
        tag: 'preview'
        type: 'UsdShadingNode'
        shader_type: 'UsdPreviewSurface'
        path: '<..node_group.path>/<.tag>__<option.time_tag>_USD_SDR'
        #
        connections:
            - '<.path>.surface'
            - '<..node_group.path>.outputs.usd_shader.usd_surface'
            - '<.path>.displacement'
            - '<..node_group.path>.outputs.usd_shader.usd_displacement'
    #
    usd_uv_transform:
        tag: 'usd_uv_transform'
        type: 'UsdShadingNode'
        shader_type: 'UsdTransform2d'
        path: '<..node_group.path>/<.tag>__<option.time_tag>_USD_IMG'
    #
    usd_uv:
        tag: 'usd_uv'
        type: 'UsdShadingNode'
        shader_type: 'UsdPrimvarReader_float2'
        path: '<..node_group.path>/<.tag>__<option.time_tag>_USD_IMG'
        #
        shader_parameters:
            varname: 'st'

        connections:
            - '<.path>.result'
            - '<..usd_uv_transform.path>.in'
# arnold
#  texture
arnold_texture:
    # diffuse
    #   color
    diffuse_color:
        tag: 'diffuse_color'
        #
        node_graph:
            #
            image:
                type: ArnoldShadingNode
                shader_type: 'image'
                path: '<node.node_group.path>/<...tag>__<..key>__<option.time_tag>_AND_NOD'
                #
                shader_parameters:
                    filename: '{texture}'
                    ignore_missing_textures: True
                    missing_texture_color: [0.8, 0.8, 0.8, 1.0]
                #
                connections:
                    - '<node.node_passthrough.path>.outputs.texture.uv_map.uv_map_coords'
                    - '<.path>.uvcoords'
            #
            image_dot:
                type: Dot
                path: '<node.node_group.path>/<...tag>__<..key>__<option.time_tag>_DOT'
                #
                connections:
                    - '<..image.path>.out'
                    - '<.path>.input'
            # use uv-map transform
            uv_map:
                type: ArnoldShadingNode
                shader_type: 'uv_transform'
                path: '<node.node_group.path>/<...tag>__<..key>__<option.time_tag>_AND_NOD'
                #
                shader_expressions:
                    offset: 'getNode("<node.arnold_texture_uv_map_proxy.name>").parameters.<.key>.value'
                    rotate: 'getNode("<node.arnold_texture_uv_map_proxy.name>").parameters.<.key>.value'
                    repeat: 'getNode("<node.arnold_texture_uv_map_proxy.name>").parameters.<.key>.value'
                    pivot: 'getNode("<node.arnold_texture_uv_map_proxy.name>").parameters.<.key>.value'
                    coverage: 'getNode("<node.arnold_texture_uv_map_proxy.name>").parameters.<.key>.value'
                    #
                    translate_frame: 'getNode("<node.arnold_texture_uv_map_proxy.name>").parameters.<.key>.value'
                    rotate_frame: 'getNode("<node.arnold_texture_uv_map_proxy.name>").parameters.<.key>.value'
                    scale_frame: 'getNode("<node.arnold_texture_uv_map_proxy.name>").parameters.<.key>.value'
                    pivot_frame: 'getNode("<node.arnold_texture_uv_map_proxy.name>").parameters.<.key>.value'
                    wrap_frame_u: 'getNode("<node.arnold_texture_uv_map_proxy.name>").parameters.<.key>.value'
                    wrap_frame_v: 'getNode("<node.arnold_texture_uv_map_proxy.name>").parameters.<.key>.value'
                #
                connections:
                    # connections from "image"
                    - '<..image_dot.path>.output'
                    - '<.path>.passthrough'
            # use tri-planar when no uv-map
            triplanar:
                type: ArnoldShadingNode
                shader_type: 'triplanar'
                path: '<node.node_group.path>/<...tag>__<..key>__<option.time_tag>_AND_NOD'
                #
                shader_parameters:
                    coord_space: '2'
                #
                shader_expressions:
                    cell: 'getNode("<node.arnold_texture_triplanar_proxy.name>").parameters.<.key>.value'
                    cell_rotate: 'getNode("<node.arnold_texture_triplanar_proxy.name>").parameters.<.key>.value'
                    cell_blend: 'getNode("<node.arnold_texture_triplanar_proxy.name>").parameters.<.key>.value'
                    coord_space: 'getNode("<node.arnold_texture_triplanar_proxy.name>").parameters.<.key>.value'
                    blend: 'getNode("<node.arnold_texture_triplanar_proxy.name>").parameters.<.key>.value'
                    pref_name: 'getNode("<node.arnold_texture_triplanar_proxy.name>").parameters.<.key>.value'
                #
                connections:
                    - '<..image.path>.out'
                    - '<.path>.input'
                    #
                    - '<node.arnold_texture_triplanar_translate.path>.out'
                    - '<.path>.offset'
                    #
                    - '<node.arnold_texture_triplanar_rotate.path>.out'
                    - '<.path>.rotate'
                    #
                    - '<node.arnold_texture_triplanar_scale.path>.out'
                    - '<.path>.scale'
            #
            mode_switch:
                type: ArnoldShadingNode
                shader_type: 'switch_rgba'
                path: '<node.node_group.path>/<...tag>__<..key>__<option.time_tag>_AND_NOD'
                #
                connections:
                    - '<node.arnold_texture_basic_mode.path>.out'
                    - '<.path>.index'
                    #
                    - '<..uv_map.path>.out'
                    - '<.path>.input0'
                    #
                    - '<..triplanar.path>.out'
                    - '<.path>.input1'
            #
            output_dot:
                type: Dot
                path: '<node.node_group.path>/<...tag>__<..key>__<option.time_tag>_DOT'
                #
                connections:
                    - '<..mode_switch.path>.out'
                    - '<.path>.input'
        #
        connections:
            # connect node to group
            - '<.node_graph.output_dot.path>.output'
            - '<node.node_group.path>.outputs.texture.diffuse.diffuse_color'
            # connect node-group to shader
            - '<node.node_group.path>.outputs.texture.diffuse.diffuse_color'
            - '<node.arnold_surface_shader.path>.base_color'
    # basic
    #   metalness
    metalness:
        tag: 'metalness'
        #
        node_graph:
            image:
                $: '....diffuse_color.node_graph.image'
                #
                shader_parameters:
                    filename: '{texture}'
                    ignore_missing_textures: True
                    missing_texture_color: [0.0, 0.0, 0.0, 1.0]
            #
            image_dot: '$...diffuse_color.node_graph.image_dot'
            # use uv-map transform
            uv_map: '$...diffuse_color.node_graph.uv_map'
            # use tri-planar when no uv-map
            triplanar: '$...diffuse_color.node_graph.triplanar'
            #
            mode_switch: '$...diffuse_color.node_graph.mode_switch'
            #
            output_dot: '$...diffuse_color.node_graph.output_dot'
        #
        connections:
            # connect node to group
            - '<.node_graph.output_dot.path>.output'
            - '<node.node_group.path>.outputs.texture.base.metalness'
            # connect node-group to shader
            - '<node.node_group.path>.outputs.texture.base.metalness'
            - '<node.arnold_surface_shader.path>.metalness'
    # specular
    #   specular
    specular:
        tag: 'specular'
        #
        node_graph:
            image:
                $: '....diffuse_color.node_graph.image'
                #
                shader_parameters:
                    filename: '{texture}'
                    ignore_missing_textures: True
                    missing_texture_color: [1.0, 1.0, 1.0, 1.0]
            #
            image_dot: '$...diffuse_color.node_graph.image_dot'
            # use uv-map transform
            uv_map: '$...diffuse_color.node_graph.uv_map'
            # use tri-planar when no uv-map
            triplanar: '$...diffuse_color.node_graph.triplanar'
            #
            mode_switch: '$...diffuse_color.node_graph.mode_switch'
            #
            output_dot: '$...diffuse_color.node_graph.output_dot'
        #
        connections:
            # connect node to group
            - '<.node_graph.output_dot.path>.output'
            - '<node.node_group.path>.outputs.texture.specular.specular'
            # connect node-group to shader
            - '<node.node_group.path>.outputs.texture.specular.specular'
            - '<node.arnold_surface_shader.path>.specular'
    #   roughness
    specular_roughness:
        tag: 'specular_roughness'
        #
        node_graph:
            image:
                $: '....diffuse_color.node_graph.image'
                #
                shader_parameters:
                    filename: '{texture}'
                    ignore_missing_textures: True
                    missing_texture_color: [0.2, 0.2, 0.2, 1.0]
            #
            image_dot: '$...diffuse_color.node_graph.image_dot'
            # use uv-map transform
            uv_map: '$...diffuse_color.node_graph.uv_map'
            # use tri-planar when no uv-map
            triplanar: '$...diffuse_color.node_graph.triplanar'
            #
            mode_switch: '$...diffuse_color.node_graph.mode_switch'
            #
            output_dot: '$...diffuse_color.node_graph.output_dot'
        #
        connections:
            # connect node to group
            - '<.node_graph.output_dot.path>.output'
            - '<node.node_group.path>.outputs.texture.specular.specular_roughness'
            # connect node-group to shader
            - '<node.node_group.path>.outputs.texture.specular.specular_roughness'
            - '<node.arnold_surface_shader.path>.specular_roughness'
    # transmission
    #   transmission
    transmission:
        tag: 'transmission'
        #
        node_graph:
            image:
                $: '....diffuse_color.node_graph.image'
                #
                shader_parameters:
                    filename: '{texture}'
                    ignore_missing_textures: True
                    missing_texture_color: [0.2, 0.2, 0.2, 1.0]
            #
            image_dot: '$...diffuse_color.node_graph.image_dot'
            # use uv-map transform
            uv_map: '$...diffuse_color.node_graph.uv_map'
            # use tri-planar when no uv-map
            triplanar: '$...diffuse_color.node_graph.triplanar'
            #
            mode_switch: '$...diffuse_color.node_graph.mode_switch'
            #
            output_dot: '$...diffuse_color.node_graph.output_dot'
        #
        connections:
            # connect node to group
            - '<.node_graph.output_dot.path>.output'
            - '<node.node_group.path>.outputs.texture.transmission.transmission'
            # connect node-group to shader
            - '<node.node_group.path>.outputs.texture.transmission.transmission'
            - '<node.arnold_surface_shader.path>.transmission'
    # geometry
    #   opacity
    opacity:
        tag: 'geometry_opacity'
        #
        node_graph:
            image:
                $: '....diffuse_color.node_graph.image'
                #
                shader_parameters:
                    filename: '{texture}'
                    ignore_missing_textures: True
                    missing_texture_color: [1.0, 1.0, 1.0, 1.0]
            #
            image_dot: '$...diffuse_color.node_graph.image_dot'
            # use uv-map transform
            uv_map: '$...diffuse_color.node_graph.uv_map'
            # use tri-planar when no uv-map
            triplanar: '$...diffuse_color.node_graph.triplanar'
            #
            mode_switch: '$...diffuse_color.node_graph.mode_switch'
            #
            output_dot: '$...diffuse_color.node_graph.output_dot'
        #
        connections:
            # connect node to group
            - '<.node_graph.output_dot.path>.output'
            - '<node.node_group.path>.outputs.texture.geometry.opacity'
            # connect node-group to shader
            - '<node.node_group.path>.outputs.texture.geometry.opacity'
            - '<node.arnold_surface_shader.path>.opacity'
    #   normal
    normal:
        tag: 'geometry_normal'
        #
        node_graph:
            image:
                $: '....diffuse_color.node_graph.image'
                #
                shader_parameters:
                    filename: '{texture}'
                    ignore_missing_textures: True
                    missing_texture_color: [0.0, 0.0, 0.0, 1.0]
            #
            image_dot: '$...diffuse_color.node_graph.image_dot'
            # use uv-map transform
            uv_map: '$...diffuse_color.node_graph.uv_map'
            # use tri-planar when no uv-map
            triplanar: '$...diffuse_color.node_graph.triplanar'
            #
            mode_switch: '$...diffuse_color.node_graph.mode_switch'
            #
            normal:
                tag: 'texture_normal'
                type: ArnoldShadingNode
                shader_type: 'normal_map'
                path: '<node.node_group.path>/texture_<..key>__<option.time_tag>_AND_NOD'
                #
                shader_hints:
                    # basic
                    strength: '{"page": "normal basic", "label": "strength", "dstPage": "<option.unique_name>.normal basic", "dstName": "<option.unique_name>__normal_basic__strength"}'
                    # invert
                    invert_x: '{"page": "normal invert", "label": "invert X", "dstPage": "<option.unique_name>.normal invert", "dstName": "<option.unique_name>__normal_invert__invert_x"}'
                    invert_y: '{"page": "normal invert", "label": "invert Y", "dstPage": "<option.unique_name>.normal invert", "dstName": "<option.unique_name>__normal_invert__invert_y"}'
                    invert_z: '{"page": "normal invert", "label": "invert Z", "dstPage": "<option.unique_name>.normal invert", "dstName": "<option.unique_name>__normal_invert__invert_z"}'
                #
                connections:
                    - '<..mode_switch.path>.out'
                    - '<.path>.input'
                    #
                    - '<node.node_group.path>.inputs.texture.geometry.normal_invert_x'
                    -  '<.path>.invert_x'
                    - '<node.node_group.path>.inputs.texture.geometry.normal_invert_y'
                    -  '<.path>.invert_y'
                    - '<node.node_group.path>.inputs.texture.geometry.normal_invert_z'
                    -  '<.path>.invert_z'
                    - '<node.node_group.path>.inputs.texture.geometry.normal_strength'
                    -  '<.path>.strength'
        #
        connections:
            # connect node to group
            - '<.node_graph.normal.path>.out'
            - '<node.node_group.path>.outputs.texture.geometry.normal'
            # connect node-group to shader
            - '<node.node_group.path>.outputs.texture.geometry.normal'
            - '<node.arnold_surface_shader.path>.normal'
    #   displacement
    displacement:
        tag: 'geometry_displacement'
        #
        node_graph:
            image:
                $: '....diffuse_color.node_graph.image'
                #
                shader_parameters:
                    filename: '{texture}'
                    ignore_missing_textures: True
                    missing_texture_color: [0.0, 0.0, 0.0, 1.0]
            #
            image_dot: '$...diffuse_color.node_graph.image_dot'
            # use uv-map transform
            uv_map: '$...diffuse_color.node_graph.uv_map'
            # use tri-planar when no uv-map
            triplanar: '$...diffuse_color.node_graph.triplanar'
            #
            mode_switch: '$...diffuse_color.node_graph.mode_switch'
            #
            displacement:
                type: ArnoldShadingNode
                shader_type: 'range'
                path: '<node.node_group.path>/texture_<..key>__<option.time_tag>_AND_NOD'
                #
                shader_parameters:
                    input_min: 0.5
                    output_max: 0.1
                #
                shader_hints:
                    # basic
                    input_min: '{"page": "displacement basic", "label": "zero", "dstPage": "<option.unique_name>.displacement basic", "dstName": "<option.unique_name>__displacement_basic__zero"}'
                    output_max: '{"page": "displacement basic", "label": "strength", "dstPage": "<option.unique_name>.displacement basic", "dstName": "<option.unique_name>__displacement_basic__strength"}'
                #
                connections:
                    - '<..mode_switch.path>.out'
                    - '<.path>.input'
                    #
                    - '<node.node_group.path>.inputs.texture.geometry.displacement_zero'
                    -  '<.path>.input_min'
                    #
                    - '<node.node_group.path>.inputs.texture.geometry.displacement_strength'
                    -  '<.path>.output_max'
        #
        connections:
            # connect node to group
            - '<.node_graph.displacement.path>.out'
            - '<node.node_group.path>.outputs.texture.geometry.displacement'
            - '<.node_graph.displacement.path>.out'
            - '<node.node_group.path>.outputs.arnold_shader.arnold_displacement'

usd_texture:
    diffuse_color:
        tag: 'diffuse_color'
        node_graph:
            image:
                type: 'UsdShadingNode'
                shader_type: 'UsdUVTexture'
                path: '<node.node_group.path>/<...tag>__<..key>__<option.time_tag>_USD_NOD'

                shader_parameters:
                    file: '{texture}'
        #
        connections:
            # connect uv transform
            - '<node.usd_uv_transform.path>.result'
            - '<.node_graph.image.path>.st'
            #
            - '<.node_graph.image.path>.rgb'
            - '<node.usd_shader.path>.diffuseColor'
    #
    specular_roughness:
        tag: 'specular_roughness'
        node_graph:
            image: '$...diffuse_color.node_graph.image'
        #
        connections:
            # connect uv transform
            - '<node.usd_uv_transform.path>.result'
            - '<.node_graph.image.path>.st'
            #
            - '<.node_graph.image.path>.rgb'
            - '<node.usd_shader.path>.roughness'