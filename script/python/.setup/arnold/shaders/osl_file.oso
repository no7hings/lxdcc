OpenShadingLanguage 1.00
# Compiled by oslc 1.11.6
# options: -o /home/dongchangbao/packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.oso.78e9-3369-0e88-1acb.tmp -I/l/packages/pg/prod/mtoa/4.2.1.1/platform-linux/maya-2019/plug-ins/../bin/../osl/include
shader osl_file
param	int	space	0		%meta{string,widget,"enumerate"} %meta{string,options,"x|-x|y|-y|z|-z"} %meta{string,page,"extra"}  %read{2147483647,-1} %write{2147483647,-1}
param	string	filename	""		%meta{string,widget,"filename"} %meta{string,page,"basic"}  %read{2,65} %write{2147483647,-1}
param	int	udim_maximum	1010		%meta{int,min,1001} %meta{int,max,1100} %meta{string,page,"basic"}  %read{5,5} %write{2147483647,-1}
oparam	color	out_rgb	0 0 0		%read{2147483647,-1} %write{66,66}
global	float	u	%read{6,65} %write{2147483647,-1} %derivs
global	float	v	%read{6,64} %write{2147483647,-1} %derivs
local	color	final_rgb	%read{9,66} %write{0,65}
local	int	udim_index	%read{9,63} %write{1,63} %derivs
local	int	is_udim	%read{3,3} %write{2,2}
local	int	___337_c	%read{9,63} %write{5,5}
local	point	___337_uv	%read{9,63} %write{6,6} %derivs
local	int	___338_i	%read{9,63} %write{8,63}
local	float	___339_i_uv_offset_x	%read{9,63} %write{9,63} %derivs
local	float	___339_i_uv_offset_y	%read{9,63} %write{9,63} %derivs
local	string	___339_i_udim_str	%read{9,63} %write{9,63}
local	string[2]	___339_i_args	%read{9,63} %write{9,63}
local	string	___339_i_file	%read{9,63} %write{9,63}
local	int	___339_e	%read{9,63} %write{9,63}
local	float	___340_i_coord_x	%read{9,63} %write{9,63} %derivs
local	float	___340_i_coord_y	%read{9,63} %write{9,63} %derivs
local	float	___340_i_x_next	%read{9,63} %write{9,63}
local	float	___340_i_y_next	%read{9,63} %write{9,63}
local	color	___341_i_rgb	%read{9,63} %write{9,63}
const	float	$const1	0		%read{0,6} %write{2147483647,-1}
const	int	$const2	1001		%read{1,14} %write{2147483647,-1}
const	string	$const3	"<udim>"		%read{2,19} %write{2147483647,-1}
const	int	$const4	0		%read{3,53} %write{2147483647,-1}
temp	int	$tmp1	%read{4,4} %write{3,3}
const	int	$const5	1000		%read{5,5} %write{2147483647,-1}
temp	int	$tmp2	%read{9,63} %write{9,63}
temp	int	$tmp3	%read{7,63} %write{8,63}
temp	int	$tmp4	%read{9,63} %write{9,63} %derivs
const	int	$const6	10		%read{12,12} %write{2147483647,-1}
temp	int	$tmp5	%read{9,63} %write{9,63} %derivs
temp	int	$tmp6	%read{9,63} %write{9,63} %derivs
temp	float	$tmp7	%read{9,63} %write{9,63} %derivs
temp	float	$tmp8	%read{9,63} %write{9,63} %derivs
const	float	$const7	10		%read{17,17} %write{2147483647,-1}
const	string	$const8	"%d"		%read{18,18} %write{2147483647,-1}
temp	int	$tmp9	%read{2147483647,-1} %write{9,63}
temp	string	$tmp10	%read{9,63} %write{9,63}
const	int	$const9	1		%read{21,63} %write{2147483647,-1}
temp	string	$tmp11	%read{9,63} %write{9,63}
const	string	$const10	"concat"		%read{22,22} %write{2147483647,-1}
temp	string	$tmp12	%read{9,63} %write{9,63}
temp	int	$tmp13	%read{2147483647,-1} %write{9,63}
const	string	$const11	"exists"		%read{25,25} %write{2147483647,-1}
temp	int	$tmp14	%read{9,63} %write{9,63}
const	float	$const12	1		%read{30,64} %write{2147483647,-1}
temp	float	$tmp15	%read{9,63} %write{9,63}
temp	int	$tmp16	%read{9,63} %write{9,63}
temp	int	$tmp17	%read{9,63} %write{9,63}
temp	float	$tmp18	%read{9,63} %write{9,63}
temp	int	$tmp19	%read{9,63} %write{9,63}
temp	int	$tmp20	%read{9,63} %write{9,63}
temp	int	$tmp21	%read{9,63} %write{9,63}
temp	float	$tmp22	%read{9,63} %write{9,63}
temp	int	$tmp23	%read{9,63} %write{9,63}
temp	int	$tmp24	%read{9,63} %write{9,63}
temp	float	$tmp25	%read{9,63} %write{9,63}
temp	int	$tmp26	%read{9,63} %write{9,63}
temp	int	$tmp27	%read{9,63} %write{9,63}
temp	int	$tmp28	%read{9,63} %write{9,63}
temp	float	$tmp29	%read{9,63} %write{9,63} %derivs
temp	float	$tmp30	%read{9,63} %write{9,63} %derivs
temp	float	$tmp31	%read{9,63} %write{9,63} %derivs
const	string	$const13	"%s, is non-exists"		%read{60,60} %write{2147483647,-1}
temp	int	$tmp32	%read{2147483647,-1} %write{9,63}
temp	float	$tmp33	%read{65,65} %write{64,64} %derivs
code ___main___
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:11
#     int udim_index = 1001;
	assign		final_rgb $const1 	%filename{"packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl"} %line{11} %argrw{"wr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:12
#     // check is udim
	assign		udim_index $const2 	%line{12} %argrw{"wr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:14
#     if (is_udim > 0) {
	regex_search	is_udim filename $const3 	%line{14} %argrw{"wrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:15
#         // maximum search
	gt		$tmp1 is_udim $const4 	%line{15} %argrw{"wrr"}
	if		$tmp1 64 66 	%argrw{"r"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:17
#         point uv = point(u, v, 0.0);
	sub		___337_c udim_maximum $const5 	%line{17} %argrw{"wrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:18
#         for (int i = 0; i < c; i++) {
	point		___337_uv u v $const1 	%line{18} %argrw{"wrrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:19
#             float i_uv_offset_x = (udim_index-1001)%10;
	for		$tmp3 9 11 62 64 	%line{19} %argrw{"r"}
	assign		___338_i $const4 	%argrw{"wr"}
	lt		$tmp2 ___338_i ___337_c 	%argrw{"wrr"}
	neq		$tmp3 $tmp2 $const4 	%argrw{"wrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:20
#             float i_uv_offset_y = ((udim_index-1001)-i_uv_offset_x)/10;
	sub		$tmp4 udim_index $const2 	%line{20} %argrw{"wrr"}
	mod		$tmp5 $tmp4 $const6 	%argrw{"wrr"}
	assign		___339_i_uv_offset_x $tmp5 	%argrw{"wr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:21
#             //float uv_y_hundreds = ( i_uv_offset_y / 10 );
	sub		$tmp6 udim_index $const2 	%line{21} %argrw{"wrr"}
	assign		$tmp8 $tmp6 	%argrw{"wr"}
	sub		$tmp7 $tmp8 ___339_i_uv_offset_x 	%argrw{"wrr"}
	div		___339_i_uv_offset_y $tmp7 $const7 	%argrw{"wrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:23
#             string i_args[2];
	format		___339_i_udim_str $const8 udim_index 	%line{23} %argrw{"wrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:25
#             string i_file = concat(i_args[0], i_udim_str, i_args[1]);
	split		$tmp9 filename ___339_i_args $const3 	%line{25} %argrw{"wrwr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:26
#             // check exists
	aref		$tmp10 ___339_i_args $const4 	%line{26} %argrw{"wrr"}
	aref		$tmp11 ___339_i_args $const9 	%argrw{"wrr"}
	functioncall	$const10 25 	%argrw{"r"}
# /l/packages/pg/prod/mtoa/4.2.1.1/platform-linux/maya-2019/plug-ins/../bin/../osl/include/stdosl.h:433
#     return concat(concat(a,b), c);
	concat		$tmp12 $tmp10 ___339_i_udim_str 	%filename{"/l/packages/pg/prod/mtoa/4.2.1.1/platform-linux/maya-2019/plug-ins/../bin/../osl/include/stdosl.h"} %line{433} %argrw{"wrr"}
	concat		___339_i_file $tmp12 $tmp11 	%argrw{"wrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:29
#             if (e > 0) {
	gettextureinfo	$tmp13 ___339_i_file $const11 ___339_e 	%filename{"packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl"} %line{29} %argrw{"wrrw"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:30
#                 float i_coord_x = 0;
	gt		$tmp14 ___339_e $const4 	%line{30} %argrw{"wrr"}
	if		$tmp14 60 61 	%argrw{"r"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:31
#                 float i_coord_y = 0;
	assign		___340_i_coord_x $const4 	%line{31} %argrw{"wr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:32
# 
	assign		___340_i_coord_y $const4 	%line{32} %argrw{"wr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:34
#                 float i_y_next = (i_uv_offset_y + 1);
	add		___340_i_x_next ___339_i_uv_offset_x $const12 	%line{34} %argrw{"wrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:35
# 
	add		___340_i_y_next ___339_i_uv_offset_y $const12 	%line{35} %argrw{"wrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:37
#                     i_coord_x = uv[0]-i_uv_offset_x;
	compref		$tmp15 ___337_uv $const4 	%line{37} %argrw{"wrr"}
	ge		$tmp16 $tmp15 ___339_i_uv_offset_x 	%argrw{"wrr"}
	neq		$tmp17 $tmp16 $const4 	%argrw{"wrr"}
	if		$tmp17 40 40 	%argrw{"r"}
	compref		$tmp18 ___337_uv $const4 	%argrw{"wrr"}
	le		$tmp19 $tmp18 ___340_i_x_next 	%argrw{"wrr"}
	neq		$tmp20 $tmp19 $const4 	%argrw{"wrr"}
	assign		$tmp17 $tmp20 	%argrw{"wr"}
	neq		$tmp21 $tmp17 $const4 	%argrw{"wrr"}
	if		$tmp21 52 52 	%argrw{"r"}
	compref		$tmp22 ___337_uv $const9 	%argrw{"wrr"}
	ge		$tmp23 $tmp22 ___339_i_uv_offset_y 	%argrw{"wrr"}
	neq		$tmp24 $tmp23 $const4 	%argrw{"wrr"}
	if		$tmp24 50 50 	%argrw{"r"}
	compref		$tmp25 ___337_uv $const9 	%argrw{"wrr"}
	le		$tmp26 $tmp25 ___340_i_y_next 	%argrw{"wrr"}
	neq		$tmp27 $tmp26 $const4 	%argrw{"wrr"}
	assign		$tmp24 $tmp27 	%argrw{"wr"}
	neq		$tmp28 $tmp24 $const4 	%argrw{"wrr"}
	assign		$tmp21 $tmp28 	%argrw{"wr"}
	if		$tmp21 60 60 	%argrw{"r"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:38
#                     i_coord_y = uv[1]-i_uv_offset_y;
	compref		$tmp29 ___337_uv $const4 	%line{38} %argrw{"wrr"}
	sub		___340_i_coord_x $tmp29 ___339_i_uv_offset_x 	%argrw{"wrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:39
#                     color i_rgb = texture(i_file, i_coord_x, 1-i_coord_y);
	compref		$tmp30 ___337_uv $const9 	%line{39} %argrw{"wrr"}
	sub		___340_i_coord_y $tmp30 ___339_i_uv_offset_y 	%argrw{"wrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:40
#                     final_rgb += i_rgb;
	sub		$tmp31 $const12 ___340_i_coord_y 	%line{40} %argrw{"wrr"}
	texture		___341_i_rgb ___339_i_file ___340_i_coord_x $tmp31 	%argrw{"wrrr"} %argderivs{2,3}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:41
#                 }
	add		final_rgb final_rgb ___341_i_rgb 	%line{41} %argrw{"wrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:45
#                     "%s, is non-exists", i_file
	warning		$const13 ___339_i_file 	%line{45} %argrw{"rr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:49
#         }
	add		udim_index udim_index $const9 	%line{49} %argrw{"wrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:19
#             float i_uv_offset_x = (udim_index-1001)%10;
	assign		$tmp32 ___338_i 	%line{19} %argrw{"wr"}
	add		___338_i ___338_i $const9 	%argrw{"wrr"}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:53
#     }
	sub		$tmp33 $const12 v 	%line{53} %argrw{"wrr"}
	texture		final_rgb filename u $tmp33 	%argrw{"wrrr"} %argderivs{2,3}
# packages/lxdcc_rsc/0.99.99/script/python/.setup/arnold/shaders/osl_file.osl:56
# }
	assign		out_rgb final_rgb 	%line{56} %argrw{"wr"}
	end
